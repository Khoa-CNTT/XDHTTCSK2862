<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Forms / Device - My Event</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/docx@7.8.2/build/index.min.js"></script>
    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
        }

        .content {
            margin-top: 20px;
        }

        .contract-details,
        .contract-items,
        .contract-draft {
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .table th,
        .table td {
            vertical-align: middle;
        }

        .table img {
            max-width: 50px;
            height: auto;
        }

        .draft-content table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .draft-content th,
        .draft-content td {
            border: 1px solid #dee2e6;
            padding: 8px;
            text-align: center;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <!-- ======= Header ======= -->
    <div id="header"></div>
    <!-- ======= Sidebar ======= -->
    <div id="sidebar-container"></div>
    <script src="assets/js/sidebar.js" type="module"></script><!-- End Header --><!-- End Sidebar-->

    <main id="main" class="main">
        <div class="pagetitle">
            <h1>Chi tiết hợp đồng</h1>
        </div><!-- End Page Title -->

        <section class="section">
            <div class="row">
                <div class="card">
                    <div class="card-body" style="padding-top: 20px;">
                        <h5 style="font-weight: bold; color: rgba(1, 112, 7, 0.6);">Trạng thái</h5>
                        <table class="table table-bordered" style="max-width: 336px; overflow-x: auto;">
                            <thead>
                                <tr>
                                    <th style="background-color: #E9F5DB;">Trạng thái</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td> <span class="status-label" id="status" name="status">
                                        </span></td>

                                </tr>
                            </tbody>
                        </table>
                        <h5 style="font-weight: bold; color: rgba(1, 112, 7, 0.6);">Thông tin hợp đồng</h5>

                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th style="background-color: #E9F5DB;">Tên hợp đồng</th>
                                    <th style="background-color: #E9F5DB;">Thời hạn hợp đồng</th>
                                    <th style="background-color: #E9F5DB;">Giá trị hợp đồng</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="name" name="name">HỢP ĐỒNG TỔ CHỨC SỰ KIỆN</td>
                                    <td>
                                        Ngày bắt đầu: <span id="RentalStart" name="RentalStart">20/12/2024</span><br>
                                        Ngày kết thúc: <span id="RentalEnd" name="RentalEnd">22/02/2025</span>
                                    </td>
                                    <td id="price" style="font-size: large; font-weight: bold;">304.640.000 ₫</td>
                                </tr>
                            </tbody>
                        </table>

                        <h5 style="font-weight: bold; color: rgba(1, 112, 7, 0.6);">Thông tin khách hàng</h5>
                        <table class="table table-bordered">
                            <tbody>
                                <tr>
                                    <th style="background-color: #E9F5DB;">Tên khách hàng</th>
                                    <td id="customerName" name="customerName">m</td>
                                </tr>
                                <tr>
                                    <th style="background-color: #E9F5DB;">Số điện thoại</th>
                                    <td id="phone" name="phone">0819901400</td>
                                </tr>
                                <tr>
                                    <th style="background-color: #E9F5DB;">Địa chỉ</th>
                                    <td id="address" name="address ">478 điện biên phủ, Xã Trung Trực, Huyện Yên Sơn,
                                        Tỉnh Tuyên Quang
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h5 style="font-weight: bold; color: rgba(1, 112, 7, 0.6);"> <i
                            class="bi bi-file-earmark-text-fill"></i> Bản thảo văn bản hợp đồng</h5>
                    <div class="text-center mb-4">
                        <button id="showDraftButton" class="btn btn-primary">Xem Bản Thảo Hợp Đồng</button>
                        <button id="exportDraftButton" class="btn btn-success" style="display: none;">Xuất File
                            Word</button>
                    </div>
                    <div class="contract-draft bg-white p-4 mb-4" style="display: none;">
                        <h5 class="text-center fw-bold mb-3">BẢN THẢO VĂN BẢN HỢP ĐỒNG</h5>
                        <div class="draft-content">
                            <div class="text-center mb-3">
                                <p class="fw-bold">CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM</p>
                                <p class="fw-bold text-decoration-underline">Độc lập - Tự do - Hạnh phúc</p>
                            </div>
                            <div class="text-center mb-4">
                                <h4 class="fw-bold">HỢP ĐỒNG DỊCH VỤ</h4>
                            </div>
                            <div class="mb-4">
                                <ul class="list-unstyled">
                                    <li><i>- Căn cứ Bộ luật dân sự 2015;</i></li>
                                    <li><i>- Căn cứ sự thỏa thuận của 2 bên;</i></li>
                                </ul>
                                <p>Hôm nay, ngày <span id="draftDate"></span>, chúng tôi gồm:</p>
                            </div>
                            <div class="mb-4 party-info">
                                <p class="fw-bold">BÊN THUÊ DỊCH VỤ (sau đây gọi là Bên A)</p>
                                <p><span class="fw-bold">TÊN</span>: <span id="draftCustomerName"></span></p>
                                <p><span class="fw-bold">ĐỊA CHỈ</span>: <span id="draftCustomerAddress"></span></p>
                                <p><span class="fw-bold">SỐ ĐIỆN THOẠI</span>: <span id="draftCustomerPhone"></span></p>
                            </div>
                            <div class="mb-4 party-info">
                                <p class="fw-bold">BÊN CHO THUÊ DỊCH VỤ (sau đây gọi là Bên B)</p>
                                <p><span class="fw-bold">TÊN CÔNG TY</span>: CÔNG TY TNHH DỊCH VỤ MYEVENT</p>
                                <p><span class="fw-bold">ĐẠI DIỆN</span>: Ông/Bà Huyền Hạnh Minh Trinh Long</p>
                                <p><span class="fw-bold">CHỨC DANH</span>: GIÁM ĐỐC</p>
                                <p><span class="fw-bold">ĐỊA CHỈ</span>: K384 Điện Biên Phủ, Phường Thanh Khê Đông, Quận
                                    Thanh Khê, Thành phố Đà Nẵng</p>
                                <p><span class="fw-bold">SỐ ĐIỆN THOẠI</span>: 0819901400</p>
                            </div>
                            <div class="mb-4">
                                <p>Hai bên thỏa thuận ký kết hợp đồng này với các điều khoản sau:</p>
                                <div class="mt-3">
                                    <p class="fw-bold text-uppercase">Điều 1: Nội dung dịch vụ thực hiện</p>
                                    <p>Bên B cam kết lên kế hoạch và tổ chức sự kiện cho Bên A theo bảng danh mục bên
                                        dưới.</p>
                                    <p>Tên sự kiện: <span id="draftContractName"></span></p>
                                    <p>Thời gian thực hiện: Từ ngày <span id="draftStartDate"></span> đến ngày <span
                                            id="draftEndDate"></span></p>
                                    <p>Địa điểm: <span id="draftLocation"></span></p>
                                    <div class="service-table mt-3">
                                        <p class="fw-bold text-center mb-2">Bảng danh mục thiết bị</p>
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Tên thiết bị</th>
                                                    <th>Số lượng</th>
                                                    <th>Đơn giá</th>
                                                    <th>Thành tiền</th>
                                                </tr>
                                            </thead>
                                            <tbody id="draftDeviceTableBody"></tbody>
                                        </table>
                                    </div>
                                    <div class="service-table mt-3">
                                        <p class="fw-bold text-center mb-2">Bảng danh mục dịch vụ</p>
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Tên dịch vụ</th>
                                                    <th>Số lượng</th>
                                                    <th>Đơn giá</th>
                                                    <th>Thành tiền</th>
                                                </tr>
                                            </thead>
                                            <tbody id="draftServiceTableBody"></tbody>
                                        </table>
                                    </div>
                                    <div class="service-table mt-3">
                                        <p class="fw-bold text-center mb-2">Bảng danh mục địa điểm</p>
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Tên địa điểm</th>
                                                    <th>Nhà cung cấp</th>
                                                    <th>Từ ngày</th>
                                                    <th>Đến ngày</th>
                                                    <th>Số ngày thuê</th>
                                                    <th>Đơn giá/Ngày</th>
                                                    <th>Thành tiền</th>
                                                </tr>
                                            </thead>
                                            <tbody id="draftLocationTableBody"></tbody>
                                        </table>
                                    </div>
                                    <div class="service-table mt-3">
                                        <p class="fw-bold text-center mb-2">Bảng lịch trình dự kiến sự kiện</p>
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Thời gian</th>
                                                    <th>Mô tả</th>
                                                </tr>
                                            </thead>
                                            <tbody id="draftTimelineTableBody"></tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <p class="fw-bold text-uppercase">Điều 2: Giá trị dịch vụ – Phương thức thanh toán
                                    </p>
                                    <p>2.1 Giá trị dịch vụ: <span id="draftTotalPrice"></span></p>
                                    <p>2.2 Ngay khi Bên B thực hiện cung cấp dịch vụ theo quy định của Điều 1, hai bên
                                        sẽ thống nhất và ký kết biên bản thanh lý hợp đồng trong đó có ghi rõ những hạng
                                        mục còn thiếu hoặc phát sinh (nếu có).</p>
                                    <p>2.3 Phương thức thanh toán: (Thanh toán bằng tiền mặt hoặc chuyển khoản)</p>
                                    <ul class="list-unstyled mx-4">
                                        <li>- Bên A thực hiện đặt cọc 30% giá trị hợp đồng cho Bên B.</li>
                                        <li>- Bên A sẽ thanh toán 100% phần giá trị dịch vụ trong thời gian 5 ngày làm
                                            việc kể từ khi kết thúc chương trình.</li>
                                    </ul>
                                </div>
                                <div class="mt-3">
                                    <p class="fw-bold text-uppercase">Điều 3: Thời hạn thỏa thuận</p>
                                    <p>3.1 Thời gian hiệu lực hợp đồng: Từ khi bản hợp đồng được ký kết đến khi thanh
                                        toán hợp đồng.</p>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between mt-5">
                                <div class="text-center">
                                    <p class="fw-bold text-uppercase">ĐẠI DIỆN BÊN A</p>
                                    <p><i>(Ký tên, đóng dấu)</i></p>
                                </div>
                                <div class="text-center">
                                    <p class="fw-bold text-uppercase">ĐẠI DIỆN BÊN B</p>
                                    <p><i>(Ký tên, đóng dấu)</i></p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="signedDocument" class="form-label">Tải lên hợp đồng đã ký:</label>
                            <input type="file" id="signedDocument" class="form-control"
                                accept="application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document">
                            <button id="uploadSignedDocument" class="btn btn-primary mt-2">Tải lên</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main><!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">
        <div class="copyright">
            © <strong><span>My Event</span></strong>. Tôn trọng bản quyền
        </div>
        <div class="credits">
            <h6>Liên hệ :Nhóm 58 để biết thêm chi tiết nhá🌟</h6>
        </div>
    </footer><!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/header.js"></script>
    <!--Hành động API data cho table event-->
    <script src="assets/js/contract.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const editContractId = localStorage.getItem("editContractId");
            if (editContractId) {
                watchDetailContract(editContractId);
            }
        });
    </script>
</body>

</html>